<!DOCTYPE html>
<html>
<head>
	<title></title>
	 <link rel='stylesheet' href='/stylesheets/style.css' />
	  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<style type="text/css">
	.error{
		color: red;
	}
</style>
<body>
	<div class="row" style="margin:10px;">
		<div class="container" >
			<div class="row">
				<div class="col-md-8"><h3>Update Product</h3></div>
				<div class="col-md-4">
					<a href="/"><button type="button" class="btn btn-success float-right" value="">Product List</button>
					</a>
				</div>
			</div>
			
		</div>
	</div>
	<div class="container">
		<div class="row card">
			<div class="col-md-6">
				<form action="/edit-product-request" method="POST" id="productForm">
				  <!-- Email input -->
				  <div class="form-outline mb-4">
				  	<label class="form-label" for="form1Example1">Name</label>
				    <input type="text" id="form1Example1" class="form-control" name="name" value="<%= data.name %>" />
				  </div>

				  <!-- Password input -->
				  <div class="form-outline mb-4">
				    <label class="form-label" for="form1Example2">Price</label>
				    <input type="text" id="form1Example2" class="form-control" name="price" value="<%= data.price %>" />
				  </div>
				  <!-- Password input -->
				  <div class="form-outline mb-4">
				    <label class="form-label" for="form1Example2">Utility</label>
				    <select class="form-control" id="utility" name="utility" /> 
				    	<option value="Photography" <%= (data.utility=='Photography') ? "selected":"" %> >Photography</option>
				    	<option value="Security" <%= (data.utility=="Security") ? "selected":"" %>>Security</option>
				    	<option value="Monitoring or Inspection" <%= (data.utility=="Monitoring or Inspection") ? "selected":"" %> >Monitoring or Inspection</option>
				    	<option value="Recreation" <%= (data.utility=="Recreation") ? "selected":"" %>>Recreation</option>
				    	<option value="Delivery" <%= (data.utility=="Delivery") ? "selected":"" %>>Delivery</option>
					</select>
				  </div>
				  <!-- Password input -->
				  <div class="form-outline mb-4">
				    <label class="form-label" for="form1Example2">Weight</label>
				    <input type="text" id="form1Example2" class="form-control" name="weight" value="<%= data.weight %>" />
				  </div>
				  <div class="row mb-4">
				    <div class="col d-flex">
				      <!-- Checkbox -->
				      <div class="form-check">
				        <input class="form-check-input" type="checkbox" name="on_sale" value="1" id="form2Example34" <%= data.onSale ? "checked":"" %> />
				        <label class="form-check-label" for="form2Example34"> On Sale?</label>
				      </div>
				    </div>
				  <!-- Submit button -->
				</div>
				<input type="hidden"  value="<%= data._id %>" name="identifier">
				  <button type="submit" class="btn btn-primary ">Update</button>
				</form>
			</div>
		</div>
	</div>
	
</body>
</html>
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.10/js/select2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>	
<script type="text/javascript">
$( document ).ready(function() {
	$('#utility').select2({
  		placeholder: 'Select a Utility'
	});
	$("#productForm").validate({
	  rules: {
	    name: "required",
	    price: {"required":true,"number":true},
	    utility: {"required":true},
	    weight: {"required":true,"number":true}
	  },
	  messages: {
	    name: "Please provide product name",
	    price:{"required":"Please provide your price","number":"Invalid price"},
	    utility: "Please select utility",
	    weight:{"required":"Please provide weight","number":"Invalid weight"},
	  }
	});
	$("#productForm").on('submit',function(){
		if(!$("#productForm").valid()){
			return false;
		}
	});
});
</script>
